---
title: React hooks for browser APIs
author: Christoph Werner
created: 2019-02-02
updated: 2019-07-26
---

## Ohai

123

```jsx
// src/utils/theme.js

import { useState, useEffect } from 'react'

/**
 * A hook to get and update the current theme for dark mode
 * @returns [theme, toggleTheme] - [current theme, func to toggle theme]
 */
export const useTheme = () => {
  const storedTheme =
    typeof window !== 'undefined' &&
    window.localStorage.getItem('theme')
  const [theme, setTheme] = useState(
    storedTheme || 'light'
  )
  const toggleTheme = () =>
    setTheme((prevTheme) => {
      return prevTheme === 'light'
        ? 'dark'
        : 'light'
    })
  useEffect(() => {
    if (typeof window !== 'undefined') {
      window.localStorage.setItem('theme', theme)
    }
  }, [theme])
  return [theme, toggleTheme]
}
```
